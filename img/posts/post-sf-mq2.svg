<svg height="450.4375" version="1.1" width="812.953125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block"></path><marker id="raphael-marker-endblock55-objvz327" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objexai8" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objmfe7s" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objbefjn" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objiu6az" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objluo24" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obja8zif" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker></defs><rect x="10" y="10" width="246.84375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="15" y="15" width="236.84375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="133.421875" y="24" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">MessageQueue 消息机制（二）</tspan></text><rect x="10" y="48" width="135.21875" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="20" y="58" width="115.21875" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="77.609375" y="76.609375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">MessageQueue</tspan><tspan dy="19.2" x="77.609375">(native)</tspan></text><rect x="10" y="373.21875" width="135.21875" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="20" y="383.21875" width="115.21875" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="77.609375" y="401.828125" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">MessageQueue</tspan><tspan dy="19.2" x="77.609375">(native)</tspan></text><path fill="none" stroke="#000000" d="M77.609375,105.21875L77.609375,373.21875" stroke-width="2" style=""></path><rect x="337.265625" y="48" width="96.8125" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="347.265625" y="58" width="76.8125" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="385.671875" y="76.609375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">Looper</tspan><tspan dy="19.2" x="385.671875">(native)</tspan></text><rect x="337.265625" y="373.21875" width="96.8125" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="347.265625" y="383.21875" width="76.8125" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="385.671875" y="401.828125" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">Looper</tspan><tspan dy="19.2" x="385.671875">(native)</tspan></text><path fill="none" stroke="#000000" d="M385.671875,105.21875L385.671875,373.21875" stroke-width="2" style=""></path><rect x="617.328125" y="48" width="96.8125" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="627.328125" y="58" width="76.8125" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="665.734375" y="76.609375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">Handler</tspan><tspan dy="19.2" x="665.734375">(native)</tspan></text><rect x="617.328125" y="373.21875" width="96.8125" height="57.21875" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style=""></rect><rect x="627.328125" y="383.21875" width="76.8125" height="37.21875" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="665.734375" y="401.828125" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-4.0859375">Handler</tspan><tspan dy="19.2" x="665.734375">(native)</tspan></text><path fill="none" stroke="#000000" d="M665.734375,105.21875L665.734375,373.21875" stroke-width="2" style=""></path><rect x="87.609375" y="121.21875" width="288.0625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="231.640625" y="130.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">setEventConnection(connection)</tspan></text><path fill="none" stroke="#000000" d="M77.609375,143.21875C77.609375,143.21875,340.9449598528445,143.21875,380.6767448721457,143.21875" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objvz327)" stroke-dasharray="none" style=""></path><rect x="410.671875" y="163.21875" width="240.0625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="530.703125" y="172.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">addFd(mEventTube.getFd())</tspan></text><path fill="none" stroke="#000000" d="M385.671875,158.21875L405.671875,158.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M405.671875,158.21875L405.671875,191.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M405.671875,191.21875C405.671875,191.21875,396.5909881591797,191.21875,390.6671283841133,191.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objexai8)" style=""></path><rect x="410.671875" y="201.21875" width="28.8125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="425.078125" y="210.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">...</tspan></text><path fill="none" stroke="#000000" d="M385.671875,196.21875L405.671875,196.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M405.671875,196.21875L405.671875,229.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M405.671875,229.21875C405.671875,229.21875,396.5909881591797,229.21875,390.6671283841133,229.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objmfe7s)" style=""></path><rect x="0" y="0" width="0" height="0" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="231.640625" y="244.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="244.21875"></tspan></text><path fill="none" stroke="#000000" d="M385.671875,239.21875C385.671875,239.21875,122.33629014715552,239.21875,82.60450512785428,239.21875" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objbefjn)" stroke-dasharray="6,2" style=""></path><rect x="102.609375" y="259.21875" width="172.84375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="189.03125" y="268.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">cb_eventReceiver()</tspan></text><path fill="none" stroke="#000000" d="M77.609375,254.21875L97.609375,254.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M97.609375,254.21875L97.609375,287.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M97.609375,287.21875C97.609375,287.21875,88.52848815917969,287.21875,82.60462838411331,287.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objiu6az)" style=""></path><rect x="299.65625" y="293.21875" width="144.03125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="371.671875" y="302.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">eventReceiver()</tspan></text><path fill="none" stroke="#000000" d="M77.609375,315.21875C77.609375,315.21875,603.7101936638355,315.21875,660.7387003744661,315.21875" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objluo24)" stroke-dasharray="none" style=""></path><rect x="690.734375" y="335.21875" width="28.8125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text x="705.140625" y="344.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">...</tspan></text><path fill="none" stroke="#000000" d="M665.734375,330.21875L685.734375,330.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M685.734375,330.21875L685.734375,363.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="#000000" d="M685.734375,363.21875C685.734375,363.21875,676.6534881591797,363.21875,670.7296283841133,363.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obja8zif)" style=""></path></svg>